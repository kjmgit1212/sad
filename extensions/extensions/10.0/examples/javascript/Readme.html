<html>

<head>
<title>Running the JavaScript Extensions API Examples</title>
<link rel=Stylesheet type="text/css" media=all href="../examples.css">

<![if mso 9]>
<style>
p.MsoNormal
	{margin-left:52.5pt;}
</style>
<![endif]>
</head>

<body bgcolor=white lang=EN-US link="#0000CC" vlink="#660099" style='margin-left:
52.5pt;margin-top:24.0pt;margin-right:12.0pt;margin-bottom:24.0pt'>

<div class=Section1>

<table  border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%'>
 <tr>
  <td style='padding:0in 0in 0in 0in'>
  <p  style='margin:0in;margin-bottom:.0001pt'><span
  style='font-family:"Arial","sans-serif";color:black'><img width=283
  height=58 src="../ibm_banner.gif"></span></p>
  </td>
  <td style='padding:0in 0in 0in 0in'>
  <p  align=right style='margin:0in;margin-bottom:.0001pt;
  text-align:right'><span style='font-family:"Arial","sans-serif";color:black'><img
  width=347 height=46 src="../tivolilogo.gif"></span></p>
  </td>
 </tr>
</table>

<h1>Running the JavaScript Extensions API Examples</h1>

<h2>Global Scope Extension</h2>

<p><span style='font-family:"Arial","sans-serif";color:black'>The
SampleGlobalExtension.java source file demonstrates how to create an extension
that publishes a global variable to the interpreter, retrieves a global
variable from the interpreter, and publishes a function to the interpreter. The
global variable published is named counter. It holds an integer value and is
initialized with the value 1. It can be used as any JavaScript variable. The function
published is named increment and takes no parameters. When called, it adds 1 to
the current value of the counter global variable and returns the new value. To
illustrate the usage of both counter and increment(), the following JavaScript
snippet would return the String &quot;Test123&quot;.</span></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p  style='margin:0in;margin-bottom:.0001pt'><span
style='font-family:"Arial","sans-serif";color:black'>initial = counter;<br>
next = increment();<br>
increment();<br>
last = counter;<br>
return &quot;Test&quot; + initial + next + last;</span></p>

</blockquote>

<p><span style='font-family:"Arial","sans-serif";color:black'>This sample
extension could be registered for use within any script context within the
platform, but the following instructions will describe its use within the
Identity Policy context only.</span></p>

<ol start=1 type=1>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Build
     the example (see <a href="../Building.html">Building the Examples</a>). </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Update
     the scriptframework.properties file by adding the line:
     ITIM.extension.IdentityPolicy.globalSample=examples.itim50.javascript.SampleGlobalExtension
     </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Start
     the ISIM server. </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>In
     an enabled Identity Policy, use the counter variable and/or increment()
     function. </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Attempt
     to provision an account for a user where the user id of the account is
     governed by the Identity Policy and confirm expected results. </span></li>
</ol>

<h2>Object Oriented Extension</h2>

<p><span style='font-family:"Arial","sans-serif";color:black'>The
SampleObjectExtension.java source file demonstrates how to create an extension
that publishes a JavaScript object class with a data member, a constructor, and
a method. The class is named Counter. Its data member is named value, and its
method is named increment. This class, along with its data member and method
act in the same manner as the previous extension, just with an OO twist. The
value data member is the same as the counter global variable, but just in
within the scope of a Counter object. The increment() method performs the same
logic as in the previous example, but it increments the value data member
instead of a global variable. To illustrate the usage of this class, the
following JavaScript snippet would also return the String
&quot;Test123&quot;.&nbsp;</span></p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p  style='margin:0in;margin-bottom:.0001pt'><span
style='font-family:"Arial","sans-serif";color:black'>cntr = new Counter();<br>
initial = cntr.value;<br>
next = cntr.increment();<br>
cntr.increment();<br>
last = cntr.value;<br>
return &quot;Test&quot; + initial + next + last;</span></p>

</blockquote>

<p><span style='font-family:"Arial","sans-serif";color:black'>This sample
extension could be registered for use within any script context within the
platform, but the following instructions will describe its use within the
Identity Policy context only.</span></p>

<ol start=1 type=1>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Build
     the example (see <a href="../Building.html">Building the Examples</a>). </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Update
     the scriptframework.properties file by adding the line:
     ITIM.extension.IdentityPolicy.objectSample=examples.itim50.javascript.SampleObjectExtension
     </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Start
     the ISIM server. </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>In
     an enabled Identity Policy, instantiate an instance of the Counter class
     and use the value member and/or increment() method. </span></li>
 <li  style='color:black'><span style='font-family:"Arial","sans-serif"'>Attempt
     to provision an account for a user where the user id of the account is
     governed by the Identity Policy and confirm expected results. </span></li>
</ol>

</div>

</body>

</html>
